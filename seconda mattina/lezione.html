<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

        <title>Lezione</title>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-6">
                    <form action="#">
                        <input type="text" class="form-control" id="nome" placeholder="nome"> <br>
                        <input type="text" class="form-control" id="cognome" placeholder="cognome"> <br>
                        <input type="date" id="data">
                        <button type="button" class="btn btn-info" id="add">ADD</button>
                    </form>
                </div>

                <div class="col-6">
                    <table class="table">NOME</table> 
                </div>
            </div>
        </div>


        <script>
            // var myString = new String ("Testo di prova");
            // const l = myString.length;
            // //window.alert(l);

            // const primaParte = myString.substring(4,8);
            // console.log (primaParte);   
            // console.log(myString.toUpperCase());    //stampa in maiuscolo
            // const p = myString.indexOf('di');       //indexof serve per andare a trovare il valore delle parentesi
            // console.log(p);                         //stampa indexof

            // const adesso = new Date();
            // console.log(adesso);
            // const anno = adesso.getFullYear();
            // console.log (anno);
            // const mese = adesso.getMonth();         //essendo array ci restituisce posizione - ES. febbraio -> 1
            // console.log(mese);

            // const giorno = adesso.getDay();         //restituisce posione array del gg della settimana partendo da domenica
            // console.log(giorno)                     // ES. martedì -> 2
            // const nGiorno = adesso.getDate();
            // console.log(nGiorno);                   //ci restituisce il numero del giorno del mese

            
            // const x = Math.random();                // ci restituisce un numero random tra 0 e 1
            // console.log(x);

            // let k = 3.47;
            // console.log(Math.round(k));             //arrotonda a seconda del numero 
            // console.log(Math.ceil(k))               //arrotonda per eccesso qualsiasi numero


            // let persona = {
            //     nome: 'Mattia',
            //     cognome: 'Mataro',
            //     mostraNomeCompleto: function () {
            //         return  `$(this.nome) $(this.cognome)`;
            //     }
            // };

            // console.log(persona.nome),
            // console.log(persona.mostraNomeCompleto());

            // const persone = [
            //     {nome:'Mattia', cognome: 'Mataro'},
            //     {nome:'Luigi', cognome: 'Rossi'},
            //     {nome:'Mario', cognome: 'Bianchi'},
            // ];

            const btn = document.querySelector('#add');
            btn.addEventListener('click', function(event){
                event.preventDefault();
                const nome = document.getElementById('nome').value;
                const cognome = document.getElementById('cognome').value;
                const data = document.getElementById('data').value;
                let p = new Persona (nome, cognome, data);
                console.log(p.nomeCompleto());
                p.aggiungiTabella();
            })


             function Persona (x,y,z) {
                this.nome = x;
                this.cognome = y;
                 this.data = z;
                 this.nomeCompleto= function (){
                     return `${this.nome} ${this.cognome}`;
                 }
             };
             this.aggiungiTabella = function () {
                 const eta = this.calcolaEta();
                 let tabella = document.querySelector('.table');
                 let tr = document.createElement('tr');
                 tr.innerHTML = `<td>${this.nome} ${this.cognome} </td> <td> età ${this.eta}</td>`;
                 tabella.appendChild(tr);
             };

             this.calcolaEta = function () {
                 const dataCorrente = new Data ();
                 const annoCorrente =  dataCorrente.getFullYear();
                 const dataNascita = new Date (this.dataNascita);
                 const annoNascita = dataNascita.getFullYear();
                 const eta = annoCorrente - annoNascita;
                 return eta;
             };

            // let persona1 = new Persona ('Paolo', 'Rossi');
            // console.log(persona1.nome);

            // Number.prototype.roundEuro = function(){
            //     return Math.round(this*100)/100;
            // }
            // let n = 3.1457;
            // let m = n.roundEuro();
            // console.log(m)


        </script>
    </body>
</html>