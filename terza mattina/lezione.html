<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

        <title>Lezione 23/02</title>
    </head>
    <body>

        <!-- Javacript è un linguaggio ad oggetti basato sul concetto di prototipo
        altri linguaggi invece sono basati sul concetto di classe -> un oggetto è sempre un'istanza di una classe
        altri linguaggi -> un oggetto non può esistere se non è definita una classe
        con una classe definisco un'astrazione che definisce le caratteristiche ceh avranno gli oggetti creati da essa 
        altri linguaggi -> posso definire sottoclassi e oggetti che ereditano alcune caratteristiche della classe base
        altri linguaggi -> una classe definisce tutte le caratteristiche


        ----------------------------------------------------------------------------------------------------------------------------
        in Javascript posso creare direttamente un oggetto senza bisogno di definire prima una classe
        in Javascript abbiamo i prototipi -> con i prototipi un oggetto prende a modello un altro oggetto e condivide/aggiunge alcune caratteristiche
        In Javascript invece a partire da una classe possiamo arricchire queste caratteristiche (proprietà/valorie, metodi)
        Da Ecma6 esiste la possibilità di usare un approccio sintatico alla definizione degli oggetti analogo alle classi
        modello -> una classe è definita da un costruttore
        -->


        <script>

          class persona {   //class è una keyword
              constructor(nome, cognome) {  //nome di funzione riservato
                this.nome = nome;
                this.cognome = cognome;
                this.email = '';
                this.indirizzo = '';
              }
              mostraNomeCompleto (){
                return this.nome + ' ' +this.cognome; 
              }
          }  
          //creo un oggetto a partire dalla classe appena definita tramite l'operatore new  
          var marioRossi = new persona('Mario', 'Rossi');
          // get e set di proprietà


          class persona {   //class è una keyword
              constructor(nome, cognome) {  //nome di funzione riservato
                this.nome = nome;
                this.cognome = cognome;
                this._email = '';
                this.indirizzo = '';
              }
              mostraNomeCompleto (){
                return this.nome + ' ' +this.cognome; 
              }
              get email() { return this._email;}
              set email(value) {
                  var emailRegExp = /\w+@\w+\.\w{2,4}/i;
                  if (emailRegExp.test.value) {
                      this._email = value;
                  } else {
                      console.log('email non valida!');
                  }
              }
          } 


          //SOTTOCLASSI E EREDITARIETA'
          //creo delle sottoclassi estendendo una classe
          class programmatore extends persona {     //extends -> keyword, dichiara classe programmatore derivante da persona
            constructor (nome,cognome) {
                super(nome,cognome);        //super -> richiamiamo il constructor di persona
                this.linguaggiConosciuti = [];
            }
          }
          //Javascript non ha classi, quello che definiamo con le keyword è un costruttore di oggetti
          //Le classi introdotte con ECMA6 sono dei  modelli per creare degli oggetti Javascript

          //ESEMPIO
          class userInfo {
              constructor (name,age) {
                  this.name = name;
                  this.age = age;
              }
          }
          const newUser = new userInfo('Mattia', 21); //il metodo del costruttore viene richimato quando la parola new viene chiamata per creare un nuovo oggeto

          class ClassName {
              constructor () {}
              metodo1(){};
              metodo2(){};
              metodo3(){};
          }

          class userInfo {
              constructor (name,age) {
                  this.name = name;
                  this.age = age;
              }
              fullName () {
                  return this.name + 'Mataro';
              }
          }
          const newUser = new userInfo ('Mattia', 21);
          // accedo al metodo fullName
          console.log(newUser.fullName());


        /* METODI STATICI
        --> una funzione definita all'interno di una classe a cui possiamo accedere senza creare un nuovo oggettto di quella classe
        --> i metodi statici sono definiti a livello di una classe -> possiamo richiamarli usando direttamente il nome di una classe
        *STATIC* è la keyword che usiamo per definire un metodo statico
        */

        class userInfo {
            constructor (speed,age) {
                this.speed = speed;
                this.age = age;
            }
            static information (info) {
                return new userInfo(info, info);
            }
        }
        const information =userInfo.information(20);    //richiamo direttamente il metodo -> nome_classe.nome_metodo
        information.speed;  //20
        information.age;    //20

        //con extends una classe  creata con un'eredità di classe eredità anche tutti i metodi

        class Car {
            constructor(brand) {
                this.carname = brand;
            }
            present () {
                return ' I have a ' +this.carname;
            }
        }

        class model extends car {
            constructor(brand, mod) {
                super (brand);
                this.model = mod;
            }
            show () {
                return this.present() + "it's a " + this.model //ereditato il metodo present 
            }
        }

        let myCar = new Model ('Ford', 'Fiesta');

        //Sollevamento di una classe
        // non è possibile usare una classe prima di dichiararla
        
        myCar = new Car ('Ford');   //mi da errrore - non posso usare la classe ancora
        class Car {
            constructor (brand) {
                this.carname = brand;
            }
        }
        </script>
    </body>