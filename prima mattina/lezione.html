<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <title>Lezione 21/02</title>
    </head>

    <body>
        
        <script>
            /*
            var nome1 = "Lorenzo";
            nome2 = "Lorenzo";
            */
            /*
            var x = 5;
            var y = "10";
           console.log( x + y);
           console.log(typeof x);
           console.log(typeof y); 
             */
            var x = 1;
            function incrementa () {
                x++;
            }
            incrementa();
            console.log(x);
            
            for( var i=0; i<5; i++){
                console.log("il valore di i è " +i);
                console.log(` il valore di i è   ${i}  interpolazione di stringhe`);

                /*
                Interpolazione delle stringhe =  è una funzionalità che consente di inserire variabili, chiamate di funzione ed espressioni aritmetiche direttamente in una stringa senza utilizzare la concatenazione o il carattere di escape per le stringhe multilinea.
                */
                
            }
            console.log(i);   //a questo punto il valore di i è 5 poichè ha ricevuto l'ultimo aumento prima di stamoare l'ultimo for
            
        
            for( let k=0; k<5; k++){
                console.log("il valore di k è " +k);
            }
            // console.log(k); //il valore k inizializzato con let darà errore -> let usato solo per una necessità istantanea, poi viene eliminata

            let nome1 = "Lorenzo;"
            console.log(`Il mio nome è ${nome1}`);

            function somma (a, b) {
                let c = a + b;
                return c;
            }
            const s = somma (2, 3)
                // s++ errore manipolazione valore di una costrante
                console.log(s);

                function miaData(d=today()){
                    console.log(d);
                }

                function today() {
                    return(new Date()).toLocaleDateString(`it-IT`);
                }
                
                miaData(21-02-22);
                miaData();
        
        
                function createDiv(w='200px', h='100px', b='1px solid black') {
                    let div = document.createElement('div');
                    div.style.height = h;
                    div.style.width = w;
                    div.style.border = b;
                    document.getElementsByTagName('body')[0].appendChild(div);
                }
                createDiv ();
                createDiv('400px', '200px', '5px solid blue');      //puoi inserire i valori anche nella chiamata della function
                createDiv ('300px', undefined, '5px solid red');

                //

                let amici = ['Luigi','Mario', 'Andrea','Paolo' ];
                amici.forEach(
                    amico => {
                        console.log(amico);
                    }
                );
        
                    let mieiAmici = [
                        {'nome':'Luigi', 'cognome': 'Rossi' },
                        {'nome':'Marco', 'cognome': 'Verdi' },
                        {'nome':'Andrea', 'cognome': 'Neri' },
                        {'nome':'Paolo', 'cognome': 'Bianchi'}
                    ];

                    mieiAmici.forEach(
                        amico => {
                            console.log(`$(amico.nome) $(amico.cognome)` ); //a freccia
                        }
                    )
        
        
        let add = function(x,y) {
            return x + y;
        }
        console.log(add(10,20));
        let add2 = (x,y) => x + y;  //dichiarazione a freccia function
        console.log(add2(20,30));


        //*********PROMISE***********
        function asyncFunction (){
            return new Promise ((resolve, reject)=> {
                setTimeout (
                    () => {
                        const a = Math.random();
                        a > 0.4 ? resolve (a) : reject ('impossibile restituire il risultato');
                        if (a>0.4) {
                            resolve(a)
                        }
                        else {
                            reject('impossibile restituire il risultato')
                        }
                    },
                    1000);
            });
        }


            for(let x=0;x<5;x++) {
                asyncFunc()
                .then(a => console.log('Risultato'+ a))
                .catch(a=> console.log())
            }
        </script>
    </body>
    </html>